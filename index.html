<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Para mi hermosa üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Handlee&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  padding:0;
  background-color:#f8c8dc;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Handlee',cursive;
}

.container{
  width:100%;
  padding:20px;
  text-align:center;
  position:relative;
}

/* SOBRE REALISTA */
.envelope{
  width:min(92vw,420px);
  height:min(62vw,280px);
  background:linear-gradient(145deg,#ffffff,#f7f7f7);
  border-radius:8px;
  position:relative;
  cursor:pointer;
  box-shadow:
    0 15px 35px rgba(0,0,0,0.25),
    inset 0 0 20px rgba(0,0,0,0.03);
  margin:0 auto;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

/* textura sutil */
.envelope::before{
  content:"";
  position:absolute;
  inset:0;
  background-image:url("https://www.transparenttextures.com/patterns/paper-fibers.png");
  opacity:0.2;
  pointer-events:none;
}

.flap{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:linear-gradient(145deg,#f3f3f3,#e9e9e9);
  clip-path:polygon(0 0,50% 60%,100% 0);
  transform-origin:top;
  transition:transform 0.9s cubic-bezier(.68,-0.55,.27,1.55);
  z-index:1;
}

.envelope.open .flap{
  transform:rotateX(180deg);
}

/* BOTON ESTILO SELLO */
.open-btn{
  z-index:2;
  padding:16px 30px;
  background:#d6336c;
  color:white;
  border:none;
  border-radius:50px;
  font-size:1.1rem;
  letter-spacing:1px;
  cursor:pointer;
  box-shadow:0 5px 15px rgba(0,0,0,0.2);
  transition:all 0.3s ease;
}

.open-btn:hover{
  transform:scale(1.08);
}

/* TEXTO IMPRESO EN EL SOBRE */
.envelope-info{
  position:absolute;
  bottom:20px;
  left:25px;
  text-align:left;
  font-family:'Special Elite',cursive;
  font-size:1rem;
  color:#444;
  z-index:2;
  line-height:1.6;
  letter-spacing:1px;
}

/* efecto l√≠nea */
.envelope-info span{
  display:block;
  border-bottom:1px solid rgba(0,0,0,0.2);
  padding-bottom:4px;
  margin-bottom:8px;
}

/* CARTA */
.letter{
  display:none;
  background:#fffdf7;
  width:90%;
  max-width:420px;
  padding:30px 24px;
  border-radius:14px;
  box-shadow:0 12px 30px rgba(0,0,0,0.22);
  margin:0 auto;
  text-align:center;
}

.letter p{
  font-size:1.3rem;
  margin-bottom:20px;
  line-height:1.6;
}

.question{
  font-family:'Pacifico',cursive;
  font-size:clamp(1.8rem,6vw,2.6rem);
  margin:24px 0;
  color:#e91e63;
  text-align:center;
  line-height:1.3;
  width:100%;
}

.buttons{
  display:flex;
  justify-content:center;
  gap:20px;
  margin-top:24px;
}

.buttons button{
  padding:14px 26px;
  font-size:1.2rem;
  border:none;
  border-radius:30px;
  cursor:pointer;
  font-family:'Handlee',cursive;
  min-width:130px;
  transition:transform 0.3s ease;
  position:relative;
}

.yes{
  background-color:#f06292;
  color:white;
  z-index:2;
}

.no{
  background-color:#e0e0e0;
  color:#555;
  z-index:1;
}

.final-message{
  display:none;
  font-family:'Pacifico',cursive;
  font-size:clamp(1.8rem,5vw,2.5rem);
  color:#e91e63;
  animation:fadeIn 1s ease;
}

canvas{
  position:fixed;
  top:0;
  left:0;
  pointer-events:none;
  z-index:1;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(25px);}
  to{opacity:1;transform:translateY(0);}
}

.heart{
  position:absolute;
  color:red;
  font-size:20px;
  animation:floatUp 2s linear forwards;
  pointer-events:none;
}

@keyframes floatUp{
  0%{
    opacity:1;
    transform:translateY(0) scale(1);
  }
  100%{
    opacity:0;
    transform:translateY(-120px) scale(1.5);
  }
}
@media (max-width:480px){
  .letter{
    padding:25px 18px;
  }

  .question{
    font-size:1.9rem;
  }

  .buttons{
    flex-direction:column;
    gap:15px;
  }

  .buttons button{
    width:100%;
  }
}

</style>
</head>
<body>

<canvas id="confetti"></canvas>
<audio id="paperSound" src="paper.mp3"></audio>
<audio id="loveSound" src="love.mp3"></audio>


<div class="container">

<div class="envelope" id="envelope">
  <div class="flap"></div>

  <div class="envelope-info">
    <span>De: Yofre ‚ù§Ô∏è</span>
    <span>Para: La ni√±a m√°s linda del mundo üíï</span>
  </div>

  <button class="open-btn">Abrir üíå</button>
</div>

<div class="letter" id="letter">

  <p>
    Hola mi hermosa,<br>
    esta es una propuesta de hoy, para siempre
  </p>

  <div class="question">
    ¬øQuieres ser mi San Valent√≠n desde hoy y para siempre?
  </div>

  <div class="buttons">
    <button class="yes" id="yesBtn">S√≠ ‚ù§Ô∏è</button>
    <button class="no" id="noBtn">No üò¢</button>
  </div>

</div>

<div class="final-message" id="finalMessage">
  ¬°Gracias! te quiero mucho,<br>
  revisa tu correo &lt;3
</div>

</div>

<script>
  let accepted = false;
const envelope=document.getElementById("envelope");
const letter=document.getElementById("letter");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const finalMessage=document.getElementById("finalMessage");
const paperSound = document.getElementById("paperSound");
const loveSound = document.getElementById("loveSound");


let yesScale=1;
let noScale=1;

envelope.addEventListener("click",()=>{
  paperSound.play();
  envelope.classList.add("open");
  setTimeout(()=>{
    envelope.style.display="none";
    letter.style.display="block";
  },800);
});


noBtn.addEventListener("click",()=>{
  yesScale+=0.25;
  noScale-=0.15;
  if(noScale<0.15) noScale=0.15;
  yesBtn.style.transform=`scale(${yesScale})`;
  noBtn.style.transform=`scale(${noScale})`;
});

yesBtn.addEventListener("click",()=>{

  if(accepted) return; // si ya fue presionado, no hace nada
  accepted = true;

  yesBtn.disabled = true; // desactiva el bot√≥n
  yesBtn.style.opacity = "0.7";
  yesBtn.style.cursor = "default";

  loveSound.play();

  // corazones
  for(let i=0;i<15;i++){
    const heart=document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML="‚ù§Ô∏è";
    heart.style.left=Math.random()*yesBtn.offsetWidth+"px";
    heart.style.top="0px";
    yesBtn.appendChild(heart);
    setTimeout(()=>heart.remove(),2000);
  }

  // ENV√çO DE CORREOS
  emailjs.send("TU_SERVICE_ID","TEMPLATE_ID_1",{
      message: "Ha dicho que s√≠!"
  });

  emailjs.send("TU_SERVICE_ID","TEMPLATE_ID_2",{
      to_email: "CORREO_DE_ELLA"
  });



letter.style.display="flex";
letter.style.flexDirection="column";
letter.style.alignItems="center";
letter.style.justifyContent="center";
  finalMessage.style.display="block";
  launchConfetti();

  setTimeout(()=>{
    finalMessage.style.display="block";
  },800);
});



function launchConfetti(){
  const canvas=document.getElementById("confetti");
  const ctx=canvas.getContext("2d");
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;

  const pieces=[];
  for(let i=0;i<150;i++){
    pieces.push({
      x:Math.random()*canvas.width,
      y:Math.random()*canvas.height-canvas.height,
      r:Math.random()*6+4
    });
  }

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="pink";
    pieces.forEach(p=>{
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2,true);
      ctx.fill();
    });
    update();
  }

  function update(){
    pieces.forEach(p=>{
      p.y+=3;
      if(p.y>canvas.height) p.y=-10;
    });
  }

  setInterval(draw,20);
}
</script>
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<script>
emailjs.init("PXUQJE5lpbL6gF9i_");
</script>
<script>//correo para mi, template emailjs.send("service_v7uxqu3","template_ovyq3iq",{
//correo para ella templates emailjs.send("service_v7uxqu3","template_j7muvm8",{</script>
</body>
</html>
